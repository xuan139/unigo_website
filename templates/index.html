<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="page_title">OStation - Plug-and-Play Gaming SSD Platform</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="../static/style.css">
</head>
<body class="theme-light">
  <div id="scroll-progress"></div>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="../static/images/unigo_logo1.png" alt="OStation Logo" class="logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="#" data-i18n="nav_home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#product" data-i18n="nav_product">Product</a></li>
          <li class="nav-item"><a class="nav-link" href="#guide" data-i18n="nav_guide">Guide</a></li>
          <li class="nav-item"><a class="nav-link" href="#faq" data-i18n="nav_faq">FAQ</a></li>
          <li class="nav-item"><a class="nav-link" href="/downloads" data-i18n="nav_download">Downloads</a></li>
          <li class="nav-item"><a class="nav-link" href="#support" data-i18n="nav_support">Support</a></li>
          <li class="nav-item ms-3 d-flex align-items-center">
        </ul>
        <div class="d-flex align-items-center gap-3">
          <!-- Header Social Icons (left of language selector) -->
          <div class="header-social d-none d-md-flex align-items-center gap-2 me-1">
            <a href="#" class="header-social-link" title="Facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="header-social-link" title="Instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" class="header-social-link" title="Line" aria-label="Line"><i class="fab fa-line"></i></a>
            <a href="#" class="header-social-link" title="YouTube" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="mailto:contact@unigo.ai" class="header-social-link" title="Email" aria-label="Email"><i class="fas fa-envelope"></i></a>
          </div>

          <!-- Language Dropdown with Flags -->
          <div class="dropdown lang-dropdown">
            <button class="btn btn-sm btn-outline-secondary dropdown-toggle lang-toggle" type="button" id="langDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="flag">🇺🇸</span>
              <span class="label">English</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="langDropdown">
              <li><a class="dropdown-item lang-item" data-lang="en"><span class="flag">🇺🇸</span> English</a></li>
              <li><a class="dropdown-item lang-item" data-lang="zh"><span class="flag">🇨🇳</span> 简体中文</a></li>
              <li><a class="dropdown-item lang-item" data-lang="zh_tw"><span class="flag">🇭🇰</span> 繁體中文</a></li>
              <li><a class="dropdown-item lang-item" data-lang="ja"><span class="flag">🇯🇵</span> 日本語</a></li>
              <li><a class="dropdown-item lang-item" data-lang="ko"><span class="flag">🇰🇷</span> 한국어</a></li>
              <li><a class="dropdown-item lang-item" data-lang="th"><span class="flag">🇹🇭</span> ไทย</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Banner (single image) -->
  <section class="banner mb-4">
    <div class="container-fluid px-0 position-relative">
      <div class="ratio" style="--bs-aspect-ratio: calc(400 / 1300 * 100%);">
        <img src="https://picsum.photos/1300/400?random=1" class="w-100" alt="OStation banner">
      </div>
      <!-- Overlay copy -->
      <div class="position-absolute top-50 start-0 translate-middle-y w-100">
        <div class="container">
          <div class="p-3 p-sm-4" style="max-width: 760px; background: transparent; border: none; box-shadow: none;">
            <h1 class="h4 mb-2" style="color:#111;" data-i18n="banner_title">無縫體驗 PC on Mac</h1>
            <p class="mb-2" style="color:#111;" data-i18n="banner_subtitle1">工作、娛樂， OStation 一台搞定！</p>
            <p class="mb-0 text-secondary" data-i18n="banner_subtitle2">預裝 Steam、Battle.net、Bluestacks、Windows 11，體驗隨接即用的絲滑享受。</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Core Features (text-first) -->
  <section id="section1" class="py-5 bg-light">
    <div class="container">
      <div class="p-3 p-md-4">
        <div class="text-center mb-4">
          <h2 class="h4 mb-2" data-i18n="section1_title">三大核心功能</h2>
          <div class="divider-line"></div>
        </div>

        <div class="row g-3">
          <div class="col-md-4">
            <div class="p-3 h-100">
              <h5 class="mb-2" data-i18n="section1_item1_title">不佔用 Mac 空間</h5>
              <p class="mb-0" data-i18n="section1_item1_desc">Windows 和遊戲都裝在 OStation 裡面的 SSD 上，完全不吃 Mac 本機硬碟。</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-3 h-100">
              <h5 class="mb-2" data-i18n="section1_item2_title">隨接即用</h5>
              <p class="mb-0" data-i18n="section1_item2_desc">接上 Mac 就能用 Windows 11，免安裝、免設定。</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-3 h-100">
              <h5 class="mb-2" data-i18n="section1_item3_title">工作 & 遊戲兩不誤</h5>
              <p class="mb-1" data-i18n="section1_item3_desc1">工作：股票、繪圖順暢用。</p>
              <p class="mb-0" data-i18n="section1_item3_desc2">遊戲：Steam、Battle.net 等遊戲平台隨便玩。</p>
              </div>
            </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 2: 為啥選 OStation -->
  <section id="section2" class="py-5">
    <div class="container">
      <div class="p-3 p-md-4">
        <div class="text-center mb-4">
          <h2 class="h4 mb-2" data-i18n="why_title">為啥選 OStation</h2>
          <div class="divider-line"></div>
        </div>

        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="p-3">
              <h5 class="mb-2" data-i18n="section2_item1_title">資料完整保留</h5>
              <p class="mb-0" data-i18n="section2_item1_desc">所有 Windows 資料、遊戲檔案都保留在外部 Neo Forza SSD，無需擔心佔用 Mac 的儲存空間。</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 3: 產品介紹 (上下布局) -->
  <section id="section3" class="py-5">
    <div class="container">
      <div class="p-3 p-md-4">
        <div class="text-center mb-4">
          <h2 class="h4 mb-2" data-i18n="section3_title">產品介紹</h2>
          <div class="divider-line"></div>
        </div>

        <div class="row g-4">
          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item1_title">一鍵啟動 Windows 11</h5>
              <ul class="mb-0 feature-list">
                <li data-i18n="s3_item1_li1">接上 OStation，Mac 秒變 Windows</li>
                <li data-i18n="s3_item1_li2">完美相容辦公軟體、股票、繪圖順暢用</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item2_title">極致遊戲體驗</h5>
              <ul class="mb-0 feature-list">
                <li data-i18n="s3_item2_li1">Steam、Battle.net 隨接即玩，無需切換系統</li>
                <li data-i18n="s3_item2_li2">內建 Wine 技術，流暢暢玩大作</li>
                <li data-i18n="s3_item2_li3">支援手把、搖桿，外設體驗更自由</li>
                <li data-i18n="s3_item2_li4">GPU 硬體加速 → 高畫質、不卡頓</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item3_title">隨接即用，立即開玩</h5>
              <ul class="mb-0 feature-list">
                <li data-i18n="s3_item3_li1">免安裝、免設定，接上 OStation 即可直接進入遊戲或 Windows。</li>
                <li data-i18n="s3_item3_li2">Windows 與遊戲存放於外接 SSD，不佔用 Mac 本機空間。</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item4_title">全能擴充，一機多用</h5>
              <ul class="mb-0 feature-list">
                <li data-i18n="s3_item4_li1">Type-A USB 3.2 Gen2 (10Gbps) x2</li>
                <li data-i18n="s3_item4_li2">Type-C PD 3.0 快充 (100W) x2</li>
                <li data-i18n="s3_item4_li3">RJ45 乙太網路 (100Mbps) x1</li>
                <li data-i18n="s3_item4_li4">4K HDMI 輸出 x1</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item5_title">一次購買 · 永久升級</h5>
              <p class="mb-0" data-i18n="s3_item5_desc">買就送 OStation 虛擬機軟體，終身更新，沒有額外訂閱費。</p>
            </div>
          </div>

          <div class="col-md-6">
            <div class="p-2">
              <h5 class="mb-2" data-i18n="s3_item6_title">1TB 大容量，工作＋娛樂一次搞定</h5>
              <p class="mb-0" data-i18n="s3_item6_desc">高容量存儲滿足日常工作與娛樂所需，資料與遊戲分區管理更安心。</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 4: 產品規格 -->
  <section id="section4" class="py-5">
    <div class="container">
      <div class="p-3 p-md-4">
        <div class="text-center mb-3">
          <h2 class="h4 mb-2" data-i18n="section4_title">產品規格</h2>
          <div class="divider-line"></div>
        </div>

        <div class="mb-2">
          <h5 class="mb-2" data-i18n="hub_specs_title">OStation Hub 規格表</h5>
        </div>

        <div class="table-responsive">
          <table class="table align-middle">
            <thead>
              <tr>
                <th style="width:30%;" data-i18n="specs_col_item">項目</th>
                <th data-i18n="specs_col_value">規格</th>
              </tr>
            </thead>
            <tbody>
              <tr><td data-i18n="spec_label_cpu">CPU 架構支援</td><td data-i18n="spec_value_cpu">Apple Silicon 系列處理器</td></tr>
              <tr><td data-i18n="spec_label_capacity">容量選擇</td><td data-i18n="spec_value_capacity">1TB</td></tr>
              <tr><td data-i18n="spec_label_interfaces">電腦接口</td><td data-i18n="spec_value_interfaces">USB-C, Thunderbolt 3/4</td></tr>
              <tr><td data-i18n="spec_label_size">尺寸（大約）</td><td data-i18n="spec_value_size">121 x 55 x 16 mm (4.8 x 2.2 x 0.6 inches)</td></tr>
              <tr><td data-i18n="spec_label_weight">重量（大約）</td><td data-i18n="spec_value_weight">150 grams (5.3 oz)</td></tr>
              <tr><td data-i18n="spec_label_cable">線長（大約）</td><td data-i18n="spec_value_cable">50 cm</td></tr>
              <tr><td data-i18n="spec_label_material">材質</td><td data-i18n="spec_value_material">鋁合金</td></tr>
              <tr><td data-i18n="spec_label_usbc">USB-C 接口</td><td data-i18n="spec_value_usbc">USB 3.2 Gen 2  /  PD 3.0 / 100 W</td></tr>
              <tr><td data-i18n="spec_label_usba">USB-A 接口</td><td data-i18n="spec_value_usba">USB 3.2 Gen 2</td></tr>
              <tr><td data-i18n="spec_label_hdmi">HDMI 顯示接口</td><td data-i18n="spec_value_hdmi">4K@60Hz</td></tr>
              <tr><td data-i18n="spec_label_ethernet">Ethernet 接口</td><td data-i18n="spec_value_ethernet">速度 10/100/1000M</td></tr>
              <tr><td data-i18n="spec_label_speed">傳輸速度</td><td data-i18n="spec_value_speed">10 Gbps</td></tr>
              <tr><td data-i18n="spec_label_protocol">硬碟協定</td><td data-i18n="spec_value_protocol">NVMe</td></tr>
              <tr><td data-i18n="spec_label_warranty">保固</td><td data-i18n="spec_value_warranty">2 年</td></tr>
            </tbody>
          </table>
        </div>
    </div>
  </section>

  <!-- Section 5: 論壇 -->
  <section id="section5" class="py-5">
    <div class="container">
      <div class="p-3 p-md-4 text-center">
        <h2 class="h4 mb-3" data-i18n="forum_title">論壇入口</h2>
        <a class="btn btn-outline-primary" href="https://unigo.ai/forum" target="_blank" rel="noopener" data-i18n="footer_support_forum">社區論壇</a>
      </div>
    </div>
  </section>

  <!-- Section 6: 常見問題 -->
  <section id="section6" class="py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="h3 fw-bold mb-3" data-i18n="faq_title">常見問題</h2>
        <p class="lead text-muted" data-i18n="faq_subtitle">專業技術支援，快速解決您的疑問</p>
        <div class="divider-line"></div>
      </div>
      
      <div class="faq-container">
        <div class="accordion professional-accordion" id="qaAccordion">
          {% for qa in qa_list %}
            <div class="accordion-item professional-accordion-item" data-category="all">
              <h2 class="accordion-header" id="qa{{ loop.index }}">
                <button
                  class="accordion-button professional-accordion-button {% if not loop.first %}collapsed{% endif %}"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapse{{ loop.index }}"
                  aria-expanded="{{ 'true' if loop.first else 'false' }}"
                  aria-controls="collapse{{ loop.index }}"
                >
                  <div class="question-number">{{ loop.index }}</div>
                  <div class="question-content">
                    <div class="question-title">{{ qa['question'] }}</div>
                    <div class="question-meta">
                      <span class="category-tag">一般</span>
                      <span class="difficulty">簡單</span>
                    </div>
                  </div>
                </button>
              </h2>
              <div
                id="collapse{{ loop.index }}"
                class="accordion-collapse collapse {% if loop.first %}show{% endif %}"
                data-bs-parent="#qaAccordion"
              >
                <div class="accordion-body professional-accordion-body">
                  <div class="answer-wrapper">
                    <div class="answer-header">
                      <div class="answer-title">解決方案</div>
                    </div>
                    <div class="answer-content">
                      <div class="answer-text">{{ qa['answer'] }}</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </section>

  <section id="support" class="py-5 bg-light">
    <div class="container">
      <h2 class="h3 fw-bold mb-3 text-center" data-i18n="support_title">Product Verification</h2>
      <form id="serialForm" class="mx-auto" style="max-width: 500px;">
        <div class="mb-3">
          <label for="search" class="form-label" data-i18n="support_label">
            Enter Your Product Serial Numbers
          </label>
          <input
            type="text"
            class="form-control"
            id="search"
            name="search"
            placeholder="e.g. 123e4567-e89b-12d3-a456-426614184000"
            required
          />
        </div>
        <button type="submit" class="btn btn-success w-100" data-i18n="support_button">Verify</button>
      </form>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <!-- 主要内容区域 -->
      <div class="footer-main">
        <div class="row g-4">
          <!-- 公司信息 -->
          <div class="col-lg-4 col-md-6">
            <div class="footer-section">
              <h5 class="footer-title" data-i18n="footer_company_title">公司資訊</h5>
              <div class="footer-content">
                <p class="company-name">武盾多利有限公司</p>
                <p class="company-english">MaKa Taiwan CO., LTD.</p>
                <div class="company-details">
                  <p><i class="fas fa-id-card me-2"></i>統一編號 : 83460747</p>
                  <p><i class="fas fa-map-marker-alt me-2"></i>台北市松山區八德路二段374號二樓之8</p>
                </div>
              </div>
            </div>
          </div>

          <!-- 联系方式 -->
          <div class="col-lg-2 col-md-6">
            <div class="footer-section">
              <h5 class="footer-title" data-i18n="footer_contact_title">聯絡我們</h5>
              <div class="footer-content">
                <div class="contact-item">
                  <i class="fas fa-phone me-2"></i>
                  <span>＋886-2-2771-5900</span>
                </div>
                <div class="contact-item">
                  <i class="fas fa-envelope me-2"></i>
                  <a href="mailto:contact@unigo.ai">contact@unigo.ai</a>
                </div>
                <div class="contact-item">
                  <i class="fas fa-clock me-2"></i>
                  <span data-i18n="contact_support_247">24/7 技術支援</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 产品信息 -->
          <div class="col-lg-2 col-md-6">
            <div class="footer-section">
              <h5 class="footer-title" data-i18n="footer_products_title">產品</h5>
              <div class="footer-content">
                <ul class="footer-links">
                  <li><a href="#section1" data-i18n="footer_link_features">核心特性</a></li>
                  <li><a href="#section2" data-i18n="footer_link_why">為什麼選擇我們</a></li>
                  <li><a href="#section3" data-i18n="footer_link_product_intro">產品介紹</a></li>
                  <li><a href="#section4" data-i18n="footer_link_specs">產品規格</a></li>
                  <li><a href="#section6" data-i18n="footer_link_faq">常見問題</a></li>
                </ul>
              </div>
            </div>
          </div>

          <!-- 支持与资源 -->
          <div class="col-lg-2 col-md-6">
            <div class="footer-section">
              <h5 class="footer-title" data-i18n="footer_support_title">支援</h5>
              <div class="footer-content">
                <ul class="footer-links">
                  <li><a href="#section6" data-i18n="footer_support_faq">常見問題</a></li>
                  <li><a href="https://unigo.ai/forum" target="_blank" data-i18n="footer_support_forum">社區論壇</a></li>
                  <li><a href="#support" data-i18n="footer_support_verify">產品驗證</a></li>
                  <li><a href="/downloads" data-i18n="footer_support_downloads">下載中心</a></li>
                  <li><a href="mailto:contact@unigo.ai" data-i18n="footer_support_tech">技術支援</a></li>
                </ul>
              </div>
            </div>
          </div>

          <!-- 社交媒体 -->
          <div class="col-lg-2 col-md-6">
            <div class="footer-section">
              <h5 class="footer-title" data-i18n="footer_follow_title">關注我們</h5>
              <div class="footer-content">
                <div class="social-icons">
                  <a href="#" class="social-icon" title="Facebook">
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="#" class="social-icon" title="Instagram">
                    <i class="fab fa-instagram"></i>
                  </a>
                  <a href="#" class="social-icon" title="Line">
                    <i class="fab fa-line"></i>
                  </a>
                  <a href="#" class="social-icon" title="YouTube">
                    <i class="fab fa-youtube"></i>
                  </a>
                  <a href="mailto:contact@unigo.ai" class="social-icon" title="Email">
                    <i class="fas fa-envelope"></i>
                  </a>
                </div>
                <div class="newsletter mt-3">
                  <p class="newsletter-text" data-i18n="newsletter_title">訂閱我們的電子報</p>
                  <div class="newsletter-form">
                    <input type="email" class="form-control" placeholder="輸入您的郵箱" data-i18n="newsletter_placeholder">
                    <button class="btn btn-primary btn-sm" data-i18n="newsletter_subscribe">訂閱</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 分隔线 -->
      <hr class="footer-divider">

      <!-- 底部版权信息 -->
      <div class="footer-bottom">
        <div class="row align-items-center">
          <div class="col-md-6">
            <p class="copyright">© 2025 OStation. All rights reserved.</p>
          </div>
          <div class="col-md-6">
            <div class="footer-legal">
              <a href="#" class="legal-link" data-i18n="footer_terms">條款</a>
              <span class="separator">|</span>
              <a href="#" class="legal-link" data-i18n="footer_privacy">隱私政策</a>
              <span class="separator">|</span>
              <a href="#" class="legal-link" data-i18n="footer_cookie">Cookie 政策</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Language Data (moved to unified loader below) -->
  <script>
    // Keep only the serial form submission here; i18n loader is defined later
    document.getElementById("serialForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const searchValue = document.getElementById("search").value;
      fetch(`/serials_ajax?search=${encodeURIComponent(searchValue)}`)
        .then(response => response.json())
        .then(data => { alert(`${data.result}`); })
        .catch(err => { alert("Error fetching data"); console.error(err); });
    });
  </script>

  <!-- AI Chat Assistant (Upgraded White Theme) -->
  <!-- Chat Trigger -->
  <button id="chatbot-toggle" title="Chat with Assistant">💬</button>
  
  <!-- Chat Box -->
  <div id="chatbot-box">
    <header>
      <span>OStation Assistant</span>
      <button id="chatbot-close" title="Close">×</button>
    </header>
    <div id="chat-log"></div>
    <div id="chat-input">
      <input type="text" id="chat-message" placeholder="Ask anything...">
      <button onclick="sendMessage()">▶</button>
    </div>
  </div>
  
  <!-- Logic -->
  <script>
    const toggleBtn = document.getElementById("chatbot-toggle");
    const chatBox = document.getElementById("chatbot-box");
    const closeBtn = document.getElementById("chatbot-close");
    const chatLog = document.getElementById("chat-log");
    
    toggleBtn.onclick = () => {
      chatBox.style.display = (chatBox.style.display === "flex") ? "none" : "flex";
      chatBox.scrollTop = chatBox.scrollHeight;
    };
    
    closeBtn.onclick = () => {
      chatBox.style.display = "none";
    };
    
    document.addEventListener('keydown', function (e) {
      if (e.key === "Escape") {
        chatBox.style.display = "none";
      }
    });
    
    function sendMessage() {
      const input = document.getElementById("chat-message");
      const msg = input.value.trim();
      if (!msg) return;
      chatLog.innerHTML += `<div><strong>You:</strong> ${msg}</div>`;
      input.value = "";

      // Simulate bot reply
      setTimeout(() => {
        const reply = getBotReply(msg);
        chatLog.innerHTML += `<div><strong>Bot:</strong> ${reply}</div>`;
        chatLog.scrollTop = chatLog.scrollHeight;
      }, 500);
    }
    
    function getBotReply(msg) {
      msg = msg.toLowerCase();
      if (msg.includes("download")) return "You can download it from the Downloads page.";
      if (msg.includes("vmware")) return "Yes, a VMware image is included in your SSD package.";
      if (msg.includes("steam")) return "Steam is ready with pre-installed games.";
      return "I'm here to assist you! You can ask about setup, features, or downloads.";
    }
  </script>

  <script>
    async function loadTranslations(lang) {
      try {
        const res = await fetch(`/static/i18n/${lang}.json?v=${Date.now()}`);
        if (!res.ok) throw new Error('Failed to load translations');
        return await res.json();
      } catch (e) {
        console.error(e);
        return null;
      }
    }

    function applyTranslations(translations) {
      if (!translations) return;
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[key]) {
          const tag = el.tagName.toLowerCase();
          const value = translations[key];
          if (tag === 'title') {
            document.title = value;
          } else if (tag === 'input' || tag === 'textarea') {
            // Inputs/textareas: use placeholder for data-i18n
            el.placeholder = value;
          } else if (tag === 'button') {
            el.textContent = value;
          } else {
            el.innerHTML = String(value).replace(/\n/g, '<br>');
          }
        } else {
          // Optional: debug missing keys in console
          // console.debug('Missing i18n key:', key);
        }
      });
    }

    async function updateTexts(lang) {
      const translations = await loadTranslations(lang);
      applyTranslations(translations);
    }

    // Language switching via dropdown with flags
    function setLangUI(lang) {
      const btn = document.getElementById('langDropdown');
      if (!btn) return;
      const map = {
        en: { flag: '🇺🇸', label: 'English' },
        zh: { flag: '🇨🇳', label: '简体中文' },
        zh_tw: { flag: '🇭🇰', label: '繁體中文' },
        ja: { flag: '🇯🇵', label: '日本語' },
        ko: { flag: '🇰🇷', label: '한국어' },
        th: { flag: '🇹🇭', label: 'ไทย' }
      };
      const info = map[lang] || map.en;
      btn.querySelector('.flag').textContent = info.flag;
      btn.querySelector('.label').textContent = info.label;
    }
    document.querySelectorAll('.lang-item').forEach(item => {
      item.addEventListener('click', async (e) => {
        e.preventDefault();
        const lang = item.getAttribute('data-lang');
        await updateTexts(lang);
        localStorage.setItem('lang', lang);
        document.documentElement.setAttribute('lang', lang);
        setLangUI(lang);
      });
    });

    // FAQ 搜索功能（若搜索框存在才绑定）
    (function() {
      const searchEl = document.getElementById('faqSearch');
      if (!searchEl) return;
      searchEl.addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const accordionItems = document.querySelectorAll('.professional-accordion-item');
        accordionItems.forEach(item => {
          const questionText = (item.querySelector('.question-title')?.textContent || '').toLowerCase();
          const answerText = (item.querySelector('.answer-text')?.textContent || '').toLowerCase();
          item.style.display = (questionText.includes(searchTerm) || answerText.includes(searchTerm)) ? 'block' : 'none';
        });
      });
    })();

    window.addEventListener('DOMContentLoaded', async () => {
      let savedLang = localStorage.getItem('lang');
      if (!savedLang) {
        const nav = (navigator.language || navigator.userLanguage || 'en').toLowerCase();
        if (nav.startsWith('zh-tw') || nav.startsWith('zh-hk') || nav.startsWith('zh-hant')) savedLang = 'zh_tw';
        else if (nav.startsWith('zh')) savedLang = 'zh';
        else if (nav.startsWith('ja')) savedLang = 'ja';
        else if (nav.startsWith('ko')) savedLang = 'ko';
        else if (nav.startsWith('th')) savedLang = 'th';
        else savedLang = 'en';
      }
      document.documentElement.setAttribute('lang', savedLang);
      await updateTexts(savedLang);
      setLangUI(savedLang);

      // Theme toggle removed per request
    });

    // Header 交互：滚动收缩 + 进度条
    const navbar = document.querySelector('.navbar');
    const progress = document.getElementById('scroll-progress');
    let lastY = 0;
    const links = document.querySelectorAll('.navbar .nav-link[href^="#"]');
    const sections = Array.from(links)
      .map(a => ({ a, id: a.getAttribute('href'), el: document.querySelector(a.getAttribute('href')) }))
      .filter(x => x.id && x.el);

    function updateActiveLink(y) {
      // 找到当前视口中最靠近顶部的 section
      const offset = 120; // 提前激活一点点
      let current = null;
      for (const s of sections) {
        const rect = s.el.getBoundingClientRect();
        const top = rect.top + window.scrollY;
        if (y + offset >= top) current = s;
      }
      links.forEach(l => l.classList.remove('active'));
      if (current) current.a.classList.add('active');
    }

    function onScroll() {
      const y = window.scrollY || document.documentElement.scrollTop;
      if (navbar) {
        if (y > 10) navbar.classList.add('navbar-scrolled');
        else navbar.classList.remove('navbar-scrolled');
        // 向下滚动隐藏，向上滚动显示
        if (y > lastY && y > 80) navbar.classList.add('navbar-hidden');
        else navbar.classList.remove('navbar-hidden');
      }
      const doc = document.documentElement;
      const max = doc.scrollHeight - doc.clientHeight;
      const pct = max > 0 ? (y / max) * 100 : 0;
      if (progress) progress.style.width = pct + '%';
      updateActiveLink(y);
      lastY = y;
    }
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // 移动端：点击导航链接后自动收起折叠菜单
    const collapseEl = document.getElementById('navbarNav');
    if (collapseEl) {
      const navLinks = document.querySelectorAll('.navbar .nav-link[href^="#"]');
      navLinks.forEach(link => {
        link.addEventListener('click', () => {
          if (collapseEl.classList.contains('show')) {
            const bsCollapse = bootstrap.Collapse.getOrCreateInstance(collapseEl);
            bsCollapse.hide();
          }
        });
      });
    }

    // Theme toggle removed per request
  </script>

</body>
</html>